{"ast":null,"code":"\"use strict\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWeb3Provider = void 0;\n\nconst core_1 = require(\"@web3-react/core\");\n\nconst react_1 = require(\"react\");\n\nconst util_1 = require(\"./util\");\n\nconst useWeb3Provider = chainIds => {\n  const ref = react_1.useRef(false);\n\n  const _a = core_1.useWeb3React(),\n        {\n    activate\n  } = _a,\n        restParams = __rest(_a, [\"activate\"]);\n\n  const [loading, setLoading] = react_1.useState(false);\n  const connector = util_1.getInjectedConnector(chainIds);\n  const connect = react_1.useCallback(() => {\n    setLoading(true);\n    activate(connector).then(() => {}).catch(() => {}).then(() => {\n      if (ref.current) {\n        setLoading(false);\n      }\n    });\n  }, [activate, connector]);\n  const isUnsupportedChainId = react_1.useMemo(() => restParams.error instanceof core_1.UnsupportedChainIdError, [restParams.error]);\n  react_1.useEffect(() => {\n    ref.current = true;\n    return () => {\n      ref.current = false;\n    };\n  }, []);\n  return Object.assign(Object.assign({}, restParams), {\n    activate: connect,\n    isUnsupportedChainId,\n    loading\n  });\n};\n\nexports.useWeb3Provider = useWeb3Provider;","map":{"version":3,"sources":["/Volumes/Work/projects/rome/web3-example/ui-common/dist/web3/useWeb3Provider.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","defineProperty","exports","value","useWeb3Provider","core_1","require","react_1","util_1","chainIds","ref","useRef","_a","useWeb3React","activate","restParams","loading","setLoading","useState","connector","getInjectedConnector","connect","useCallback","then","catch","current","isUnsupportedChainId","useMemo","error","UnsupportedChainIdError","useEffect","assign"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useWeb3Provider = void 0;\nconst core_1 = require(\"@web3-react/core\");\nconst react_1 = require(\"react\");\nconst util_1 = require(\"./util\");\nconst useWeb3Provider = (chainIds) => {\n    const ref = react_1.useRef(false);\n    const _a = core_1.useWeb3React(), { activate } = _a, restParams = __rest(_a, [\"activate\"]);\n    const [loading, setLoading] = react_1.useState(false);\n    const connector = util_1.getInjectedConnector(chainIds);\n    const connect = react_1.useCallback(() => {\n        setLoading(true);\n        activate(connector)\n            .then(() => { })\n            .catch(() => { })\n            .then(() => {\n            if (ref.current) {\n                setLoading(false);\n            }\n        });\n    }, [activate, connector]);\n    const isUnsupportedChainId = react_1.useMemo(() => restParams.error instanceof core_1.UnsupportedChainIdError, [restParams.error]);\n    react_1.useEffect(() => {\n        ref.current = true;\n        return () => {\n            ref.current = false;\n        };\n    }, []);\n    return Object.assign(Object.assign({}, restParams), { activate: connect, isUnsupportedChainId,\n        loading });\n};\nexports.useWeb3Provider = useWeb3Provider;\n"]},"metadata":{},"sourceType":"script"}