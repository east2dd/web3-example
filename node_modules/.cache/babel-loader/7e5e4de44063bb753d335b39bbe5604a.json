{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { getInjectedConnector } from './util';\nexport const useWeb3Provider = chainIds => {\n  const ref = useRef(false);\n\n  const _a = useWeb3React(),\n        {\n    activate\n  } = _a,\n        restParams = __rest(_a, [\"activate\"]);\n\n  const [loading, setLoading] = useState(false);\n  const connector = getInjectedConnector(chainIds);\n  const connect = useCallback(() => {\n    setLoading(true);\n    activate(connector).then(() => {}).catch(() => {}).then(() => {\n      if (ref.current) {\n        setLoading(false);\n      }\n    });\n  }, [activate, connector]);\n  const isUnsupportedChainId = useMemo(() => restParams.error instanceof UnsupportedChainIdError, [restParams.error]);\n  useEffect(() => {\n    ref.current = true;\n    return () => {\n      ref.current = false;\n    };\n  }, []);\n  return Object.assign(Object.assign({}, restParams), {\n    activate: connect,\n    isUnsupportedChainId,\n    loading\n  });\n};","map":{"version":3,"sources":["/Volumes/Work/projects/rome/web3-example/ui-common/dist/web3/useWeb3Provider.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","UnsupportedChainIdError","useWeb3React","useCallback","useEffect","useMemo","useRef","useState","getInjectedConnector","useWeb3Provider","chainIds","ref","_a","activate","restParams","loading","setLoading","connector","connect","then","catch","current","isUnsupportedChainId","error","assign"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { getInjectedConnector } from './util';\nexport const useWeb3Provider = (chainIds) => {\n    const ref = useRef(false);\n    const _a = useWeb3React(), { activate } = _a, restParams = __rest(_a, [\"activate\"]);\n    const [loading, setLoading] = useState(false);\n    const connector = getInjectedConnector(chainIds);\n    const connect = useCallback(() => {\n        setLoading(true);\n        activate(connector)\n            .then(() => { })\n            .catch(() => { })\n            .then(() => {\n            if (ref.current) {\n                setLoading(false);\n            }\n        });\n    }, [activate, connector]);\n    const isUnsupportedChainId = useMemo(() => restParams.error instanceof UnsupportedChainIdError, [restParams.error]);\n    useEffect(() => {\n        ref.current = true;\n        return () => {\n            ref.current = false;\n        };\n    }, []);\n    return Object.assign(Object.assign({}, restParams), { activate: connect, isUnsupportedChainId,\n        loading });\n};\n"]},"metadata":{},"sourceType":"module"}